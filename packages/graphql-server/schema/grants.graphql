enum SubmissionState {
  APPROVED
  REJECTED
}

type GrantSubmission {
  id: ID!
  grantId: ID!
  state: SubmissionState!
  feedback: String
  createdAt: String!
  grant: Grant!
}

type Grant {
  id: ID!
  providerName: String!
  grantTitle: String!
  deadline: String
  applyUrl: String!
  location: String!
  areas: [String!]!
  amount: String
  sourcedDate: String!
  submission: GrantSubmission
}

enum OrderDirection {
  ASC
  DESC
}

enum SubmissionOrderBy {
  PROVIDER_NAME
  GRANT_TITLE
}

input GrantFilterInput {
  skip: Int = 0
  take: Int = 10
  submitted: Boolean
}

input SubmissionOrderInput {
  field: SubmissionOrderBy = PROVIDER_NAME
  direction: OrderDirection = DESC
}

type Query {
  grants(input: GrantFilterInput): [Grant!]!
  submissions(orderBy: SubmissionOrderInput): [GrantSubmission!]!
}

union SubmitFeedbackResult = GrantSubmission | ApplicationError

input SubmitGrantFeedbackInput {
  grantId: ID!
  state: SubmissionState!
  feedback: String
}

type Mutation {
  submitGrantFeedback(input: SubmitGrantFeedbackInput!): SubmitFeedbackResult!
}
