enum SubmissionState {
  APPROVED
  REJECTED
}

type GrantSubmission {
  id: ID!
  grantId: ID!
  state: SubmissionState!
  feedback: String
  createdAt: String!
  grant: Grant!
}

type Grant {
  id: ID!
  providerName: String!
  grantTitle: String!
  deadline: String
  applyUrl: String!
  location: String!
  areas: [String!]!
  amount: String
  sourcedDate: String!
  submission: GrantSubmission
}

enum OrderDirection {
  ASC
  DESC
}

enum SubmissionOrderBy {
  PROVIDER_NAME
  GRANT_TITLE
}

type Query {
  grants(skip: Int = 0, take: Int = 10, submitted: Boolean): [Grant!]!
  submissions(
    orderBy: SubmissionOrderBy = PROVIDER_NAME
    orderDir: OrderDirection = DESC
  ): [GrantSubmission!]!
}

union SubmitFeedbackResult = GrantSubmission | ApplicationError

type Mutation {
  submitGrantFeedback(
    grantId: ID!
    state: SubmissionState!
    feedback: String
  ): SubmitFeedbackResult!
}
